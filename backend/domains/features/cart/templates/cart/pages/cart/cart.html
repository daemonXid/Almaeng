{% extends "base.html" %}
{% load humanize %}

{% block content %}
<div class="min-h-screen py-8">
    <div class="max-w-4xl mx-auto px-4">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3">
                <span class="text-3xl">ğŸ›’</span>
                ì¥ë°”êµ¬ë‹ˆ
                {% if cart.total_items > 0 %}
                <span class="px-3 py-1 rounded-full bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 dark:text-emerald-400 text-sm font-medium">
                    {{ cart.total_items }}ê°œ
                </span>
                {% endif %}
            </h1>
        </div>

        {% if cart.items.exists %}
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Cart Items -->
            <div class="lg:col-span-2">
                <div id="cart-items" class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden">
                    {% include "cart/pages/cart/_items.html" %}
                </div>
            </div>

            <!-- Summary -->
            <div class="lg:col-span-1">
                <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 sticky top-24">
                    <h2 class="font-semibold text-gray-900 dark:text-white mb-4">ì£¼ë¬¸ ìš”ì•½</h2>

                    <div class="space-y-3 mb-6">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-500 dark:text-gray-400">ìƒí’ˆ ìˆ˜</span>
                            <span class="text-gray-900 dark:text-white">{{ cart.total_items }}ê°œ</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-500 dark:text-gray-400">ë°°ì†¡ë¹„</span>
                            <span class="text-emerald-600">ë¬´ë£Œ</span>
                        </div>
                        <hr class="border-gray-200 dark:border-gray-700">
                        <div class="flex justify-between">
                            <span class="font-medium text-gray-900 dark:text-white">ì´ ê²°ì œê¸ˆì•¡</span>
                            <span class="text-xl font-bold text-emerald-600">{{ cart.total_price|intcomma }}ì›</span>
                        </div>
                    </div>

                    <a href="{% url 'payments:checkout' %}"
                       class="block w-full py-3 px-4 bg-emerald-600 hover:bg-emerald-700 text-white text-center font-medium rounded-xl transition-colors">
                        ê²°ì œí•˜ê¸°
                    </a>

                    <a href="/"
                       class="block w-full py-3 px-4 mt-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 text-center font-medium rounded-xl transition-colors">
                        ì‡¼í•‘ ê³„ì†í•˜ê¸°
                    </a>
                </div>
            </div>
        </div>

        {% else %}
        <!-- Empty State -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-12 text-center">
            <span class="text-6xl mb-4 block">ğŸ›’</span>
            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤</h2>
            <p class="text-gray-500 dark:text-gray-400 mb-6">ë§ˆìŒì— ë“œëŠ” ì˜ì–‘ì œë¥¼ ë‹´ì•„ë³´ì„¸ìš”</p>
            <a href="/"
               class="inline-block px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-xl transition-colors">
                ì˜ì–‘ì œ ë‘˜ëŸ¬ë³´ê¸°
            </a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
